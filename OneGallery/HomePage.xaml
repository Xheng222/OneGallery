<?xml version="1.0" encoding="utf-8"?>
<Page
    x:Class="OneGallery.HomePage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:OneGallery"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d"
    SizeChanged="Page_SizeChanged">

    <Page.Resources>
        <DataTemplate  x:Key="LinedFlowLayoutItemTemplate" x:DataType="local:CustomDataObject">

            <ItemContainer AutomationProperties.Name="{x:Bind Title}">
                <Grid x:Name="temp00">
                    <Image Name="111" Stretch="UniformToFill" HorizontalAlignment="Center" VerticalAlignment="Center" SizeChanged="Image_SizeChanged" >
                        <Image.Source>
                            <BitmapImage DecodePixelHeight="400" UriSource="{x:Bind ImageLocation}" />
                        </Image.Source>
                        <Image.RenderTransform>
                            <ScaleTransform x:Name="temp" />
                        </Image.RenderTransform>
                        <Image.Resources>
                            <Storyboard x:Key="myStoryboard1">
                                <DoubleAnimation
                                    Storyboard.TargetName="111"
                                    Storyboard.TargetProperty="Opacity"
                                    From="0.0" To="1.0" Duration="0:0:0.4" 
                                    AutoReverse="False" />
                            </Storyboard>
                            <Storyboard x:Key="myStoryboard2">
                                <DoubleAnimation
                                    Storyboard.TargetName="111"
                                    Storyboard.TargetProperty="Opacity"
                                    From="1.0" To="0.0" Duration="0:0:0.01" 
                                    AutoReverse="False" />
                            </Storyboard>
                        </Image.Resources>
                    </Image>
                    <!--<StackPanel Orientation="Vertical" Height="40" VerticalAlignment="Bottom" Padding="5,1,5,1" Background="{ThemeResource SystemControlBackgroundBaseMediumBrush}" Opacity=".75">
                            <TextBlock Text="{x:Bind Title}" Foreground="{ThemeResource SystemControlForegroundAltHighBrush}"/>
                            <StackPanel Orientation="Horizontal">
                                <TextBlock Text="{x:Bind Likes}" Style="{ThemeResource CaptionTextBlockStyle}" Foreground="{ThemeResource SystemControlForegroundAltHighBrush}"/>
                                <TextBlock Text=" Likes" Style="{ThemeResource CaptionTextBlockStyle}" Foreground="{ThemeResource SystemControlForegroundAltHighBrush}"/>
                            </StackPanel>
                        </StackPanel>-->
                </Grid>
            </ItemContainer>
        
        </DataTemplate>
        <local:ActivityFeedLayout 
            x:Key="MyFeedLayout" 
            ColumnSpacing="8" RowSpacing="8" MinItemSize="400, 175" 
            _imageArrangement="{x:Bind MyImageArrangement}"/>
        
        <!--<Storyboard x:Name="myStoryboard">
            <DoubleAnimation
                Storyboard.TargetName="repeater2"
                Storyboard.TargetProperty="Opacity"
                From="0.0" To="1.0" Duration="0:0:0.01" 
                AutoReverse="True" 
                RepeatBehavior="Forever"/>
        </Storyboard>-->


    </Page.Resources>



    <StackPanel Background="Transparent" Height="Auto">

        <ScrollViewer x:Name="ScrollViewer" Background="Transparent">
            <ItemsRepeater x:Name="repeater2" 
                           Background="Transparent"
                           HorizontalAlignment="Stretch"
                           Layout="{StaticResource MyFeedLayout}"
                           ItemTemplate="{StaticResource LinedFlowLayoutItemTemplate}">
            </ItemsRepeater >
            
        </ScrollViewer>

        <!--<ItemsView  x:Name="SwappableLayoutsItemsView"
                    HorizontalAlignment="Stretch"
                    ItemTemplate="{StaticResource LinedFlowLayoutItemTemplate}"
                    Layout="{StaticResource MyFeedLayout}">
        </ItemsView>-->


    </StackPanel>



</Page>
